@{
    var idUsuario = ViewBag.Foro.IdUsuario;
    var idForo = ViewBag.Foro.IdForo;
    var idCategoria = ViewBag.Foro.IdCategoria;
}

<div class="recuadro">
    <div class="informacion">
        <h6>Escrito por <a href='@Url.Action("MostrarPerfil", new{IdUsuario = ViewBag.Foro.IdUsuario})'><b>@ViewBag.Foro.IdUsuario</b></a></h6>
        @if(ViewBag.Usuario != null)
        {
            if(ViewBag.Usuario.IdUsuario == ViewBag.Foro.IdUsuario)
            {
                <button class="botonB" onclick="confirmarEliminar()">Eliminar Foro</button>
            }
        }
    </div>
    <h3 class="TituloCategoria">@ViewBag.Foro.Titulo</h3>
    <h5 class="centrar">@ViewBag.Foro.Descripcion</h5>
    @if(ViewBag.Usuario != null)
    {
        <a href='@Url.Action("CrearPosteo", new{Id = @ViewBag.Foro.IdForo})'><button class="boton">Crear Posteo</button></a>
    }
    @foreach(Posteos p in ViewBag.ListPosteos)
    {
        <a href='@Url.Action("Posteo",new{idPosteo = p.IdPosteo})'>
            <div class="Posteo">
                <div class="TopBar">
                    <h4 class="title">@p.Titulo</h4>
                    <div class="Descripcion">
                        <p>@p.Descripcion</p>
                    </div>
                </div>
                <div class="LowBar">
                    <h6><b>@p.IdUsuario</b></h6>
                    <div class="wboton">
                        <button class="boton">Leer Posteo</button>
                    </div>
                </div>
            </div>
        </a>
    }
</div>

<script>
    var idUsuario = '@idUsuario';
    var idForo = '@idForo';
    var idCategoria = '@idCategoria';

    function confirmarEliminar() {
        Swal.fire({
            title: '¿Estás seguro?',
            text: "Esta acción no se puede deshacer.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sí, eliminarlo!',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                // Aquí puedes redirigir a la página de eliminar una vez confirmado
                window.location.href = '@Url.Action("EliminarForo")?IdUsuario=' + idUsuario + '&IdForo=' + idForo + '&IdCategoria=' + idCategoria;
            }
        });
    }
</script>